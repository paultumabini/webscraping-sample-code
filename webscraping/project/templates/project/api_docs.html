{% extends 'project/base.html'%}
{% load static%}
{% block title %}  Scrape Bucket - {{ title | title }} {% endblock %}

{% block content %} 
{% load custom_filters  %}
    <section class=" mt-4 pt-3">  
        <div align="left"  class="api-page">          
            <h3  class="ml-2 api-docs__header" > API Documentation</h3> 
            <div>                 
                <div class="api-docs__wrapper">
                    <h5 class="mt-4 api__sec">Important details</h5>
                    <div>      
                        <ul>                           
                            <li class="ml-3 mt-2 "> 
                                Supports up to 100 API requests per hour
                            </li>
                            <li class="ml-3 mt-2 "> 
                                Only <code> GET </code> requests allowed
                            </li>
                            <li class="ml-3 mt-2 "> 
                                Requires Authorization Token
                            </li>  
                        </ul>  
                    </div>
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#myauthtoken" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                        
                                        <span>My Authorization Token </span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="myauthtoken">                              
                                    <li class="ml-3 mt-2 "> 
                                       <code> {{ user | get_api_authtoken}}</code>
                                    </li>                                                         
                                </ul>
                            </li> 
                        </ul>  
                    </div>
                    <h5 class="mt-3 api__sec">Required Parameters</h5>
                    <p>In order to fetch the data or <code> GET </code> a  <code> JSON</code>  response successfully,  a set of simple parameters needs to be followed.</p>
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#base-url" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                        
                                        <span>Base url & path</span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="base-url">                              
                                    <li class="ml-3 mt-2 "> 
                                        <code> https://scrapesbucket.com/</code> <br>
                                        <code> https://scrapesbucket.com/api/scraped-items/&lt;project_name&gt;/</code>
                                    </li>                                                         
                                </ul>
                            </li> 
                        </ul>  
                    </div>
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#authtoken" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                   
                                        <span>Authorization Token</span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="authtoken">                                                             
                                    <li class="ml-3 mt-2  ">  
                                        <p>Please add a request header with this authorization key value pair. For example:</p>     
                                        <code> key = Authorization</code> <br/>
                                        <code> value = Token 409ac621b8f96dd7302d3dfb3aa024d0f2cc4ca7</code>
                                    </li>                                                         
                                </ul>
                            </li> 
                        </ul>  
                    </div> 
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#q-str" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                   
                                        <span> Query string parameters</span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="q-str">                              
                                    <div>      
                                        <ol style="list-style:circle";>                           
                                            <li class="ml-3 mt-2 "> 
                                                To access all available web providers and target sites, please use this url path pattern: 
                                                <div>
                                                    <code> https://scrapesbucket.com/api/scraped-items/aim-dealers/?webproviders=available&domains=all</code>
                                                </div>
                                            </li>
                                            <li class="ml-3 mt-2 "> 
                                                To specify one or more web providers, we may use this url path pattern:
                                                <div>
                                                    <code> https://scrapesbucket.com/api/scraped-items/aim-dealers/?webproviders=dealerinspire,nabthat,d2cmedia&domains=all</code>
                                                </div>
                                            </li>
                                            <li class="ml-3 mt-2 "> 
                                                To get a target site only, we need to specify the  site's domain, like this pattern: 
                                                <div>
                                                    <code> https://scrapesbucket.com/api/scraped-items/aim-dealers/?webproviders=dealerinspire&domains=taylorautomall</code>
                                                </div>
                                            </li>  
                                        </ol>  
                                    </div>                                                     
                                </ul>
                            </li> 
                        </ul>  
                    </div>                                       
                    <h5 class="mt-4 api__sec">Examples</h5>
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#postman" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                        
                                        <span>Postman</span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="postman">   
                                    <li class="ml-3 mt-2 ">  
                                       <div class="api__screenshot">
                                          <img src="{% static 'images/postman.png' %}"  />
                                       </div>
                                    </li>                                                         
                                </ul>
                            </li> 
                        </ul>  
                    </div>
                    <div>
                        <ul class="list-unstyled components"> 
                            <li>
                                <a href="#cli" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle ">
                                    <span class="toggle-icon-control" aria-hidden="true">
                                        <i class="toggle-icon fa fa-plus-square-o"></i>                                   
                                        <span>CLI using <code>curl</code> or <code>httpie</code></span>
                                    </span> 
                                </a>
                                <ul class="collapse list-unstyled" id="cli">                              
                                    <li class="ml-3 mt-2 "> 
                                        <div>
                                            <code> curl -X GET 'https://scrapesbucket.com/api/scraped-items/aim-dealers/?webproviders=available&domains=all' -H 'Authorization: Token 409ac621b8f96dd7302d3dfb3aa024d0f2cc4ca7'</code>
                                        </div> 
                                        <div>
                                            <code> http https://scrapesbucket.com/api/scraped-items/aim-dealers/ webproviders==available domains==all 'Authorization: Token 409ac621b8f96dd7302d3dfb3aa024d0f2cc4ca7'</code>
                                        </div> 
                                        <div class="api__screenshot">
                                            <img src="{% static 'images/httpie.png' %}"  />
                                         </div>
                                    </li>                                                         
                                </ul>
                            </li> 
                        </ul>  
                    </div>                 
                </div>               
            </div>            
        </div> 
    </section>
{% endblock content%}